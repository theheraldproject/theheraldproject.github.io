<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
  <link rel="icon" href="/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="/css/styles.css?1676884168425440110">
  <!-- Begin Jekyll SEO tag v2.6.1 -->
<meta name="generator" content="Jekyll v3.9.0">
<meta property="og:title" content="Herald Bluetooth MESH Network">
<meta name="author" content="Herald Project Contributors">
<meta property="og:locale" content="en_US">
<meta name="description" content="How a Smart Hospitals network can be created with Herald">
<meta property="og:description" content="How a Smart Hospitals network can be created with Herald">
<link rel="canonical" href="https://heraldprox.io/mesh/network">
<meta property="og:url" content="https://heraldprox.io/mesh/network">
<meta property="og:site_name" content="Herald Project">
<script type="application/ld+json">
{"author":{"@type":"Person","name":"Herald Project Contributors"},"description":"How a Smart Hospitals network can be created with Herald","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://heraldprox.io/img/herald.png"},"name":"Herald Project Contributors"},"@type":"WebPage","headline":"Herald Bluetooth MESH Network","url":"https://heraldprox.io/mesh/network","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>


  <title>Herald Project Docs - Herald Bluetooth MESH Network</title>



<body id="docs">
  <div class="container-fluid site-outer-container">
    <div class="site-container">
      <header class="site-header">
    <div class="site-header-content">
        <div class="row">
            <div class="col-md-2">
                <div class="logo">
                    <a href="/" aria-label="Herald homepage"><img src="/img/herald.png" class="logo" alt="Homepage"></a>
                </div>
            </div>
            <div class="col-md-9 offset-md-1">
                <ul class="nav-menu" id="header-nav">
                
                    <li class=""><a href="/">Home</a></li>
                
                    <li class=""><a href="/about">About</a></li>
                
                    <li class=""><a href="/community">Community</a></li>
                
                    <li class=""><a href="/blog">Blog</a></li>
                
                    <li class=""><a href="/download">Download</a></li>
                
                    <li class=""><a href="/docs">Documentation</a></li>
                
                    <li class=""><a href="/reference">Reference</a></li>
                
                    <li class=""><a href="/research">Research</a></li>
                
                </ul>
                <div class="nav-mobile-link">
                    <a href="javascript:void(0);" id="nav-mobile-toggle"></a>
                </div>
            </div>
        </div>
    </div>
</header>
      <div class="post-single-hero bg-color-med-blue">
        <div class="section">
            <div class="section-content">
              <h1>Herald Bluetooth MESH Network</h1>
            </div>
        </div>
      </div>
        <div class="post-single-body">
        <div class="section section-card">
            <div class="section-content pt-4 pb-0">
              <div class="row">
                <div class="col-md-2">
                 <div class="row">
    <div class="dropdown mb-2">
        
            <span></span>
        
    </div>
</div>
                <nav class="navigation">
  <!-- If new pages are added to the site and the TOC needs to be updated, it
  can be overridden, using toc-mapping.yml -->
  

  
  <h5>Reference</h5>
  <ul>
    
    <li>
      
        <a href="/reference">Introduction</a>
      
    </li>
    
    <li>
      
        <a href="/reference/arch">Architecture</a>
      
    </li>
    
    <li>
      
        <a href="/reference/personae">Personae</a>
      
    </li>
    
    <li>
      
        <a href="/efficacy/results">Efficacy Results</a>
      
    </li>
    
  </ul>
  
  <h5>Herald Payloads</h5>
  <ul>
    
    <li>
      
        <a href="/payload">About Payloads</a>
      
    </li>
    
    <li>
      
        <a href="/payload/envelope">Herald Envelope Header</a>
      
    </li>
    
    <li>
      
        <a href="/payload/interop">Interoperability</a>
      
    </li>
    
    <li>
      
        <a href="/payload/common">Herald Common CT Inner Header</a>
      
    </li>
    
    <li>
      
        <a href="/payload/simple">Herald Simple Inner Payload</a>
      
    </li>
    
    <li>
      
        <a href="/payload/secured">Herald Secured Inner Payload (Draft)</a>
      
    </li>
    
    <li>
      
        <a href="/payload/beacon">Herald Beacon Payload (Draft)</a>
      
    </li>
    
    <li>
      
        <a href="/payload/inner">Herald-compatible Inner Payload</a>
      
    </li>
    
    <li>
      
        <a href="/payload/outer">Custom outer &amp; inner payloads</a>
      
    </li>
    
  </ul>
  
  <h5>Herald MESH</h5>
  <ul>
    
    <li>
      
        <a href="/mesh">About MESH</a>
      
    </li>
    
    <li>
      
        <a href="/mesh/network">MESH Networking</a>
      
    </li>
    
    <li>
      
        <a href="/mesh/models">MESH Data Models</a>
      
    </li>
    
    <li>
      
        <a href="/mesh/api">Herald MESH API</a>
      
    </li>
    
  </ul>
  
  <h5>Formal Specifications</h5>
  <ul>
    
    <li>
      
        <a href="/specs">List and status</a>
      
    </li>
    
    <li>
      
        <a href="/specs/protocol">Herald Protocol</a>
      
    </li>
    
    <li>
      
        <a href="/specs/payload-beacon">Beacon Payload</a>
      
    </li>
    
    <li>
      
        <a href="/specs/payload-extended">Extended Data Area</a>
      
    </li>
    
    <li>
      
        <a href="/specs/payload-simple">Simple Payload</a>
      
    </li>
    
    <li>
      
        <a href="/specs/payload-secured">Secured Payload</a>
      
    </li>
    
    <li>
      
        <a href="/specs/payload-interop">International Interoperability</a>
      
    </li>
    
  </ul>
  
</nav>

                </div>
                <div class="col-md-9 offset-md-1">
                

  

                <h1 id="herald-bluetooth-mesh-networking">Herald Bluetooth MESH Networking</h1>

<p>A Smart Hospitals or other Smart Building network can be created and
managed from a single or multiple machine with Herald’s various 
Bluetooth MESH applications and API.</p>

<p>Herald provides a Bluetooth MESH API built exclusively for 
<a href="https://zephyrproject.org/">Zephyr RTOS</a>
and provides pre-built open source embedded device applications,
embedded hardware and wearable designs, and administration
microservice implementations.</p>

<p>A typical Herald Bluetooth MESH demonstration network is shown
in the below diagram:-</p>

<p><img src="/images/mesh-demo-network.jpg" alt="An Example Herald MESH demonstration network"></p>

<p>This diagram shows several device types. Below are their descriptions and
the Bluetooth MESH roles they support in our Herald MESH applications:-</p>

<ul>
  <li>A. Herald MESH Relay application
    <ul>
      <li>A constantly powered small Bluetooth MESH and LE Beacon</li>
      <li>Acts as a Bluetooth MESH Relay and Friend standard roles</li>
      <li>Acts as a Presence Server and Location Beacon in Herald vendor roles</li>
      <li>Provides a Herald Bluetooth Low Energy Venue Beacon to nearby Bluetooth Low-Energy only devices</li>
    </ul>
  </li>
  <li>B. Herald MESH Modem application
    <ul>
      <li>A constantly powered MESH node that bridges Bluetooth and Computer Server networks</li>
      <li>Acts as a Bluetooth MESH Provisioner (Adv only)</li>
      <li>Provides a USB CMC ACM (tty) modem-like protobuf protocol for controlling the MESH</li>
      <li>Acts as a Presence Subscriber, Presence Client, and Location Beacon Client</li>
    </ul>
  </li>
  <li>C. Herald MESH or LE Tags
    <ul>
      <li>A battery powered MESH or LE node that transmits an ID that is seen by the Herald MESH Relays</li>
      <li>If implemented using Bluetooth MESH, acts as a Low Powered Node with a Location Beacon Server</li>
      <li>If implemented using Bluetooth LE, acts as a Herald Venue Beacon</li>
    </ul>
  </li>
  <li>D. (Not shown) Herald powered consumer Mobile Device
    <ul>
      <li>A mobile phone searching for Herald Location Services (Location/Venue Beacons)</li>
      <li>May be also providing a Digital Contact Tracing Bluetooth LE GATT Service (Herald LE Payload / OpenTrace V2)</li>
      <li>Not enrolled into the MESH and can only read Bluetooth LE services on the Herald MESH Relay nodes</li>
      <li>Will be used to provide ‘navigate around this facility’ functionality (uses Herald Venue Beacons)</li>
      <li>May be used in future to provide ‘outpatient sign in’ functionality (using a future secure sign in mechanism)</li>
    </ul>
  </li>
</ul>

<h2 id="current-hardware-implementations">Current hardware implementations</h2>

<p>The Herald Project provides
<a href="https://github.com/theheraldproject/herald-hardware/">Open source hardware designs</a>
for Bluetooth Low Energy and MESH wearables and beacons. The current demonstration network as shown
above, however, uses off the shelf hardware from Maker Diary, namely the
<a href="https://makerdiary.com/products/nrf52840-mdk-usb-dongle-w-case">nRF52840 MDK USB Dongle</a>.</p>

<p>This is a very capable device with support for Bluetooth Low Energy, MESH, NFC and USB which the
Herald project uses. They are also capable of Thread, Matter and Zigbee communications.</p>

<p>These devices use lower performance chip antennae and so are really only aimed at demonstration
installations. They are cheap and easy to use as a starting place though.</p>

<p>The devices are based on the Nordic Semiconductor nRF52840 System on Chip (SoC) and the UF2
bootloader which can be mounted as a Flash drive for programming. They have only 1MB Flash
storage and 256 KB RAM, but this is more than enough for any complex MESH relay application.</p>

<p>This chip also incorporates the Arm TrustZone CryptoCell 310 device. This provides security
functionality but does not provide a secure store. This makes the devices useful for testing,
but not suitable for a production Bluetooth MESH installation that needs to conform to
industry Internet of Things (IoT) security standards such as
<a href="https://www.psacertified.org/what-is-psa-certified/using-psa-certified/">PSA Level 1 Certification</a>.</p>

<h2 id="herald-mesh-wearables--beacon-implementation">Herald MESH wearables / beacon implementation</h2>

<p>In 2020 The Herald Project worked with advice from the United Nations Development Programme (UNDP)
to design a low-cost wearable that could be manufactured in most device fabricating factories
through the world. The idea here was to provide a Bluetooth Digital Contact Tracing capable
wearable for countries where the latest handsets and 4G coverage was not possible.</p>

<p>This culminated in the creation of the 
<a href="/apps/wearable">Herald Wearable and Beacon V1 opensource hardware</a>
. This can be manufactured into a basic Digital Contact Tracing wearable for around USD 25 - USD 35.
A daughter board has also been designed for the wearable that provides Blood Oxygenation and
heart rate information for an additional USD 15.</p>

<p>This is based on the Fanstel BC833M pre-certified chip which uses the Nordic Semiconductor
nRF52833 SoC. This chip is designed for low power use and has more memory than the original
nRF52832 SoC. It has 512 KB Flash and 128 KB RAM. This is enough for Herald Wearable and
Bluetooth Low Energy beacon devices, but not for MESH Relay nodes currently.</p>

<p>Our hardware
design incorporates an external additional Flash storage area, USB-C connector,
accelerometer, and multi frequency daylight sensor. This is to facilitate more sophisticated
on-device, privacy preserving, data and exposure risk analytics than is possible with
mobile phones. They can be paired with mobile phones, or interact with a Bluetooth LE
Herald network such as provided by Herald MESH Relay nodes.</p>

<h2 id="future-herald-mesh-relay-open-source-hardware-design">Future Herald MESH Relay open source hardware design</h2>

<p>This future design will use another pre-qualified Fanstel module but this time based
on the nRF5340 SoC. This SOC provides an Arm TrustZone CryptoCell 312 implementation
that does provide a secure enclave. This will allow this device to pass the
<a href="">PSA Level 1 Certification</a>
mentioned above.</p>

<p>It should be noted that both the SoC and the Zephyr RTOS we use already have
PSA Level 1 certification. Below are links to the relevant certification pages:-</p>

<ul>
  <li><a href="https://www.psacertified.org/products/nrf5340/">Nordic nRF5340 PSA Level 1 Certification Page</a></li>
  <li><a href="https://www.psacertified.org/products/zephyr-project/">Zephyr RTOS PSA Level 1 Certification Page</a></li>
</ul>

<p>The Herald Project aims to get PSA Level 1 Certification for the following items eventually:-</p>

<ul>
  <li>Herald Beacon V2 opensource hardware</li>
  <li>Herald MESH Relay Application (Beta in May 2022) - GitHub code link coming soon</li>
  <li>Herald MESH Modem Application (Beta in May 2022) - GitHub code link coming soon</li>
</ul>

<h2 id="find-out-more">Find out more</h2>

<p>You can now view the <a href="/mesh/models">Herald MESH Models</a> page to find out how this is implemented.</p>

                </div>
              </div>
            </div>
        </div>
        </div>
      <div class="section section-background-darkest-blue">
    <div class="section-content">
        <div class="row">
            <div class="col-xs-12 col-sm-6 col-lg-8">
                <h5>Getting Started</h5>
                <p>To help you get started, see the documentation.</p>
            </div>
            <div class="col-xs-12 col-sm-6 col-lg-3 offset-lg-1">
                <p><strong></strong></p>
                <a href="/docs" class="btn btn-sm btn-primary btn-no-border">Documentation</a>
            </div>
        </div>
    </div>
</div>

<footer class="section site-footer">
    <div class="section-content">
        <div class="row justify-content-between align-items-center">
            <div class="col-12 col-md-5 mb-3 mb-md-0">
                <ul class="social-links text-center text-md-left">
                    
                    <li>
                      
                      <i class="fab fa-twitter fa-lg fa-fw mr-1"></i>
                      
                      <a href="https://twitter.com/HeraldProximity">Twitter</a>
</li>
                    
                    <li>
                      
                      <i class="fab fa-slack fa-lg fa-fw mr-1"></i>
                      
                      <a href="https://slack.lfph.io/">Slack</a>
</li>
                    
                    <li>
                      
                      <i class="fa fa-rss fa-lg fa-fw mr-1"></i>
                      
                      <a href="feed.xml">RSS</a>
</li>
                    
                    <li>
                      
                      <i class="fab fa-github fa-lg fa-fw mr-1"></i>
                      
                      <a href="https://github.com/theheraldproject">GitHub</a>
</li>
                    
                </ul>
            </div>
            <div class="col-12 col-md-7 text-center text-md-right">
              <a href="/" aria-label="Herald homepage"><img src="/img/herald.png" class="logo" alt="Homepage"></a>
            </div>
        </div>
        <div class="row align-items-center">
          <div class="col copyright text-center text-md-right mt-4">
            The Herald Project is a series of the <a target="_new" href="https://www.lfph.io/join/projects/">Linux Foundation Public Health</a>.
            © 2023 Herald Project Contributors.
          </div>
        </div>
    </div>
</footer>


<!-- JS -->
<script defer src="https://use.fontawesome.com/releases/v5.0.8/js/all.js" integrity="sha384-SlE991lGASHoBfWbelyBPLsUlwY1GwNDJo3jSJO04KZ33K2bwfV9YBauFfnzvynJ" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" crossorigin="anonymous"></script>

<script src="/js/jquery.matchHeight.js?1676884168425440110"></script>
<script src="/js/scripts.js?1676884168425440110"></script>
    </div>
  </div>
</body>

</html>
